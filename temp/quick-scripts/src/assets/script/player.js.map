{"version":3,"sources":["assets\\script\\player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport { event, Event_Name } from \"./containt\"\r\n@ccclass\r\nexport default class Player extends cc.Component {\r\n\r\n    @property(cc.Prefab) star: cc.Prefab = null;\r\n    @property(cc.Prefab) astroed: cc.Prefab = null;\r\n    @property(cc.Node) picker: cc.Node = null;\r\n    @property(cc.Node) homeWindow: cc.Node = null;\r\n    @property(cc.Node) gamePlay: cc.Node = null;\r\n    @property(cc.Node) gameOver: cc.Node = null;\r\n    @property(cc.Button) upBtn: cc.Button = null;\r\n    @property(cc.Button) downBtn: cc.Button = null;\r\n    @property(cc.Label) score: cc.Label = null;\r\n\r\n    basicScore :number = 0;\r\n    speed: number = .7;\r\n\r\n    gamePlayView() {\r\n        this.gamePlay.active = true;\r\n        this.homeWindow.active = false;\r\n        this.gameOver.active = false;\r\n    }\r\n    gameOverView() {\r\n        this.gamePlay.active = false;\r\n        this.homeWindow.active = true;\r\n        this.gameOver.active = false;\r\n    }\r\n\r\n    onLoad() {\r\n        this.throwObject(false);\r\n        this.throwObject(true);\r\n    }\r\n    \r\n    checkPosition(block: cc.Vec2) {\r\n\r\n        let currentVec2 = this.picker.getPosition();\r\n        if(block.y == currentVec2.y-400){\r\n            return true\r\n        }\r\n        return false\r\n\r\n    }\r\n\r\n\r\n\r\n    throwObject(value: boolean) {\r\n        if (value) {\r\n\r\n            setInterval(() => {\r\n                var astroedPrefab\r\n                astroedPrefab = cc.instantiate(this.astroed);\r\n                astroedPrefab.setPosition(479.057, Math.floor(Math.random() * 400))\r\n                astroedPrefab.active = true;\r\n                this.node.addChild(astroedPrefab);\r\n                this.moveStars(astroedPrefab)\r\n                let block = this.checkPosition(astroedPrefab.getPosition());\r\n                this.checkGame(block, 1)\r\n            }, 1500)\r\n        } else {\r\n            setInterval(() => {\r\n                var starsPrefab\r\n                starsPrefab = cc.instantiate(this.star);\r\n                starsPrefab.setPosition(479.057, Math.floor(Math.random() * 400))\r\n                starsPrefab.active = true;\r\n                this.node.addChild(starsPrefab);\r\n                this.moveStars(starsPrefab)\r\n                let block = this.checkPosition(starsPrefab.getPosition());\r\n                this.checkGame(block, 2)\r\n            }, 1000)\r\n        }\r\n    }\r\n    checkGame(value: boolean, flag: number) {\r\n        if(value)\r\n        if (flag == 1) {\r\n            \r\n            this.gamePlay.active = false;\r\n            this.gameOver.active = true;\r\n            this.basicScore = 0;\r\n            return\r\n        } else {\r\n            this.basicScore++\r\n            this.score.string = this.basicScore.toString(); \r\n        }\r\n    }\r\n    moveStars(node: cc.Node) {\r\n        cc.tween(node)\r\n            .by(0.9,\r\n                {\r\n                    position: cc.v3(-1000,\r\n                        -Math.floor(Math.random() * 400)),\r\n                    angle: 180\r\n                }).start()\r\n    }\r\n\r\n    playerUp() {\r\n        cc.tween(this.picker)\r\n            .to(this.speed,\r\n                { position: cc.v3(0, this.upBtn.node.getPosition().y) })\r\n            .start()\r\n    }\r\n\r\n    playerDown() {\r\n        cc.tween(this.picker)\r\n            .to(this.speed,\r\n                { position: cc.v3(0, this.downBtn.node.getPosition().y) })\r\n            .start()\r\n    }\r\n}\r\n"]}